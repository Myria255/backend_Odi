<view style="height: 100vh; display: flex; flex-direction: column; font-family: 'Times New Roman', Times, serif;">
    <nav></nav>

    <!-- Section des filtres avec défilement horizontal -->
    <scroll-view scroll-x="true" show-scrollbar="false" style="padding: 20rpx; width: 750rpx; box-sizing: border-box; overflow-x: auto; height: 120rpx; display: block; justify-content: center;align-items: center;">
        <view style="display: flex; flex-direction: row;">
            <view wx:for="{{filters}}" wx:key="value" style="flex: 0 0 200rpx; padding: 20rpx 20rpx; margin-right: 15rpx; border-radius: 15rpx; font-size: 28rpx; color: {{currentFilter === item.value ? 'white' : 'black'}}; background-color: {{currentFilter === item.value ? 'rgb(255, 135, 23)' : '#d3d3d3'}}; text-align: center;" bind:tap="filterTontines" data-filter="{{item.value}}">
                {{item.label}}
            </view>
        </view>
    </scroll-view>

    <scroll-view scroll-y="true" style="overflow-y: auto; width: 750rpx; height: 1350rpx; display: block; box-sizing: border-box">
        <view wx:for="{{filteredTontines}}" wx:key="id_tontine" style="margin-bottom: 20rpx; width: 750rpx; height: 267rpx; display: block; box-sizing: border-box">
            <view style="position: relative; width: 721rpx; height: 267rpx; left: 16rpx; top: 0rpx; display: block; box-sizing: border-box; border-radius: 15px; background-color: #f3f2f2b4" bindtap="NavPageGestion" data-tontine="{{item}}">

                <view style="position: relative; left: 23rpx; top: 23rpx; font-size: 28rpx;">Tontine : {{ item.nom_tontine }}</view>
                <view style="position: relative; left: 25rpx; top: 41rpx; width: 454rpx; height: 39rpx; display: block; box-sizing: border-box; font-size: 28rpx;">Nombre de participants : {{item.nombre_participants}}</view>
                <view style="position: relative; left: 21rpx; top: 62rpx; font-size: 28rpx;">Date de création : {{item.date_creation}}</view>
                <view style="position: relative; left: 25rpx; top: 77rpx; font-size: 28rpx;">Etat : {{item.statut_tontine}}</view>

                <image style="position: relative; left: 530rpx; top: -96rpx; width: 200rpx; height: 200rpx; display: inline-block; box-sizing: border-box" src="/images/contribution_remoove.png" />

            </view>
        </view>

        <view wx:if="{{loaded && filteredTontines.length === 0}}" style="text-align: center; margin-top: 150rpx; width: 750rpx; height: 72rpx; display: block; box-sizing: border-box; top: 50%;">
            {{emptyMessage}}
        </view>

        <view style="position: fixed; bottom: calc(30rpx + env(safe-area-inset-bottom)); right: 24rpx; width: 345rpx; height: 73rpx; display: flex; align-items: center; justify-content: center; background-color: rgb(255, 135, 23); color: white; font-size: 28rpx; border-radius: 25rpx;" bind:tap="CreeTontine">

            Créer une tontine
            <image style="width: 40rpx; height: 40rpx; margin-right: 10rpx;" src="/images/plus.png" />
        </view>
        <view style="position: fixed; bottom: calc(30rpx + env(safe-area-inset-bottom)); left: 24rpx; width: 345rpx; height: 73rpx; display: flex; align-items: center; justify-content: center; background-color: rgb(255, 135, 23); color: white; font-size: 28rpx; border-radius: 25rpx;" bind:tap="IntegreTontine">
            Intégrer une tontine
        </view>
    </scroll-view>
</view>